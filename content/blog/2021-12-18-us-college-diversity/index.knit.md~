---
title: "US College Diversity"
subtitle: "How to add panelsets in R Markdown posts."
excerpt: "Add tabbed sections with code and results."
date: 2021-05-24
author: "Ifeoma Egbogah"
draft: false
# layout options: single, single-sidebar
layout: single
categories:
- evergreen
editor_options: 
  chunk_output_type: console
---

##Tidy Tuesday: US College Diversity Data
The Tidy Tuesday challenge for week 11, 2020 was on US College tuition, diversity and pay. As diversity in higher institution is such an important topic, I was curious about which schools by location were the most diverse, I decided to plot a density dot map. 

A dot density map is a type of Thematic map that uses large numbers of dots or points to portray the relative geographic distribution of a population of some kind (e.g., people, livestock, businesses)



```r
#devtools::install_github("UrbanInstitute/urbnmapr")
library(here)
```

```
## here() starts at C:/Users/Egbogah-2/Documents/Rworks/rsites/Ifeoma-Egbogah
```

```r
library(tidyverse)
```

```
## -- Attaching packages --------------------------------------- tidyverse 1.3.1 --
```

```
## v ggplot2 3.3.5     v purrr   0.3.4
## v tibble  3.1.6     v dplyr   1.0.7
## v tidyr   1.1.4     v stringr 1.4.0
## v readr   2.1.1     v forcats 0.5.1
```

```
## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()
```

```r
library(sf)
```

```
## Linking to GEOS 3.9.1, GDAL 3.2.1, PROJ 7.2.1
```

```r
library(ggmap)
```

```
## Google's Terms of Service: https://cloud.google.com/maps-platform/terms/.
```

```
## Please cite ggmap if you use it! See citation("ggmap") for details.
```

```r
library(urbnmapr)
library(ggtext)
library(wesanderson)
library(extrafont)
```

```
## Registering fonts with R
```

```r
loadfonts(device = "win")

theme_set(theme_light()) ##setting theme

pal2 <- wes_palette("Rushmore1", 5, type = "discrete") ##selecting colour palette
```

##Data Set
The US college diversity data set contains the names of US Colleges in each state, the total enrollment as well as enrollment by diversity/ethnicity.


```r
diversity_school <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-10/diversity_school.csv')
```

```
## Rows: 50655 Columns: 5
```

```
## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (3): name, state, category
## dbl (2): total_enrollment, enrollment
```

```
## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.
```

```r
dplyr::glimpse(diversity_school)
```

```
## Rows: 50,655
## Columns: 5
## $ name             <chr> "University of Phoenix-Arizona", "University of Phoen~
## $ total_enrollment <dbl> 195059, 195059, 195059, 195059, 195059, 195059, 19505~
## $ state            <chr> "Arizona", "Arizona", "Arizona", "Arizona", "Arizona"~
## $ category         <chr> "Women", "American Indian / Alaska Native", "Asian", ~
## $ enrollment       <dbl> 134722, 876, 1959, 31455, 13984, 1019, 58209, 19039, ~
```


##Map of the United States of America
For the map of the US I used the urbnmapr package as it includes Alaska and Hawaii as inset.

```r
state <- get_urbn_map(map = "states", sf = TRUE)
#state2 <- get_urbn_map(map = "counties", sf = TRUE)

st_crs(state) <- st_crs(state)
```

```
## old-style crs object detected; please recreate object with a recent sf::st_crs()
## old-style crs object detected; please recreate object with a recent sf::st_crs()
```

## Coordinates of Each School
As the dot need to placed at the precise location/estimated location the mutate_gecode from the ggmap package was used in extracting the longitude and latitude coordinates for each school. 

Note: You would need a Google API key











